(this["webpackJsonptimetracker-frontend"]=this["webpackJsonptimetracker-frontend"]||[]).push([[0],{38:function(e,t,c){},61:function(e,t,c){},62:function(e,t,c){},64:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),s=c(13),i=c.n(s),r=c(7),o=c.p+"static/media/logo.7ea08619.svg";var l=function(){return Object(a.jsx)("header",{id:"header",children:Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)("img",{src:o,alt:"Logo"})})})};c(38);var u={getTimeBySeconds:function(e){var t=Math.floor(e/3600),c=Math.floor(e%3600/60),a=Math.floor(e%3600%60);return(t<10?"0"+t:t)+":"+(c<10?"0"+c:c)+":"+(a<10?"0"+a:a)},getSecondsFromMinutes:function(e){return 60*e}},d=c(4);var j=function(e){var t=Object(n.useRef)({}),c=Object(n.useState)({time:0,isStarted:!1}),s=Object(r.a)(c,2),i=s[0],o=s[1];return Object(a.jsxs)("div",{className:"stopwatch",children:[Object(a.jsx)("i",{className:"far fa-stopwatch"}),u.getTimeBySeconds(i.time),i.isStarted?Object(a.jsx)("div",{className:"stopwatch_control",onClick:function(){o(Object(d.a)(Object(d.a)({},i),{},{isStarted:!1})),clearInterval(t.current)},children:Object(a.jsx)("i",{className:"fas fa-pause"})}):Object(a.jsx)("div",{className:"stopwatch_control",onClick:function(){o(Object(d.a)(Object(d.a)({},i),{},{isStarted:!0})),t.current=setInterval((function(){o({isStarted:!0,time:i.time+=1})}),1e3)},children:Object(a.jsx)("i",{className:"fas fa-play"})})]})};var b=function(e){var t,c=e.value,n=e.setValue,s=e.type,i=e.name,r=e.rows,o=e.options;switch(s?s.toLowerCase():"input"){case"textarea":t=Object(a.jsx)("textarea",{placeholder:i,onChange:n||"",value:c,className:"input",rows:r||""});break;case"select":t=Object(a.jsx)("select",{onChange:n,className:"input",defaultValue:c,children:o.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))});break;default:t=Object(a.jsx)("input",{type:s,placeholder:i,onChange:n||"",value:c,className:"input"})}return Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{htmlFor:c,children:i}),t]})};var f=function(e){var t=e.text,c=e.href,n=e.onClick,s=e.classList;return Object(a.jsx)("a",{className:void 0!==s?s.join(" "):"",href:c,onClick:n,children:t})},h=c(9),O=c(12),m=c.n(O),v="SET_GOALS",x="DELETE_GOAL",p="ADD_GOAL",g="UPDATE_GOAL",y=[];var N="https://timetracker-api-node.herokuapp.com/tasks",k=function(){return function(e){m.a.get(N).then((function(t){var c;e((c=t.data.tasks,{type:v,payload:c}))}))}},_=function(e){return function(t){m.a.delete("".concat(N,"/").concat(e)).then((function(e){t(k())})).catch((function(e){return console.log("delete:",e)}))}};var S=function(e){var t=e.currentGoal,c=e.setActive,s=e.type,i=Object(h.b)(),o=["daily","monthly","annual"],l=t||{title:"",time:0,frequency:o[0],description:"",isActive:!0},u=Object(n.useState)(l),j=Object(r.a)(u,2),O=j[0],v=j[1];return Object(a.jsxs)("div",{className:"add-goal",children:[Object(a.jsx)(b,{name:"Title",value:O.title,setValue:function(e){v(Object(d.a)(Object(d.a)({},O),{},{title:e.target.value}))}}),Object(a.jsx)(b,{name:"Time",value:O.time,setValue:function(e){v(Object(d.a)(Object(d.a)({},O),{},{time:e.target.value}))},type:"number"}),Object(a.jsx)(b,{name:"Frequency",value:O.frequency,setValue:function(e){v(Object(d.a)(Object(d.a)({},O),{},{frequency:e.target.value}))},type:"select",options:o}),Object(a.jsx)(b,{name:"Description",value:O.description,setValue:function(e){v(Object(d.a)(Object(d.a)({},O),{},{description:e.target.value}))},type:"textarea",rows:"5"}),Object(a.jsx)(f,{text:"update"===s?"Update goal":"Add goal",href:"#",onClick:function(e){e.preventDefault();var t=function(e){var t=!0,c=[];O.title||(t=!1,c.push("Field title is required!"));O.time<=0&&(t=!1,c.push("Time must be grater than 0."));O.frequency||(t=!1,c.push("You have to choose your frequency."));return{isValid:t,message:c.join(" ")}}();if(t.isValid){switch(s){case"update":console.log(i(function(e){return function(t){m.a.patch("".concat(N,"/").concat(e._id),e).then((function(e){t(k())})).catch((function(e){return console.log("add:",e)}))}}(O)));break;default:i(function(e){return function(t){m.a.post("".concat(N),e).then((function(e){t(k())})).catch((function(e){console.log(e.response.data.errorMessage)}))}}(O)),v(l)}c(!1)}else alert(t.message)},classList:["btn add-goal-button"]})]})};c(61);var A=function(e){var t=e.active,c=e.setActive,n=e.title,s=e.children;return Object(a.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return c(!t)},children:Object(a.jsxs)("div",{className:"modal_content",onClick:function(e){return e.stopPropagation()},children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("div",{className:"modal-header_title",children:n}),Object(a.jsx)("div",{className:"modal-header_close-btn",id:"modal-header_close-btn",onClick:function(){return c(!t)},children:Object(a.jsx)("i",{className:"far fa-times-circle"})})]}),s]})})};var C=function(e){var t=e.goal,c=e.deleteGoal,s=e.updateSpentTime,i=Object(n.useState)(!1),o=Object(r.a)(i,2),l=o[0],d=o[1];return Object(a.jsxs)("div",{className:"goal-item",children:[Object(a.jsx)("div",{className:"goal-item_title",children:t.title}),Object(a.jsxs)("div",{className:"goal-item_time",children:[Object(a.jsx)("i",{className:"far fa-clock"}),u.getTimeBySeconds(u.getSecondsFromMinutes(t.time))]}),Object(a.jsx)(j,{saveTime:s}),Object(a.jsx)("div",{className:"goal-item_edit",onClick:function(){d(!0)},children:Object(a.jsx)("i",{className:"fas fa-pen-square"})}),Object(a.jsx)("div",{className:"goal-item_delete",onClick:c,children:Object(a.jsx)("i",{className:"fas fa-trash-alt"})}),Object(a.jsx)(A,{active:l,setActive:d,title:"Update goal",children:Object(a.jsx)(S,{currentGoal:t,setActive:d,type:"update"})})]})};c(62);var w=function(e){var t=e.title,c=e.children,s=Object(n.useState)(!1),i=Object(r.a)(s,2),o=i[0],l=i[1];return Object(a.jsxs)("div",{className:"accordion",children:[Object(a.jsxs)("div",{className:"accordion-header",children:[Object(a.jsx)("div",{className:"accordion-header_title",children:t}),Object(a.jsx)("div",{className:"accordion-header_close-btn",onClick:function(){l(!o)},children:Object(a.jsx)("i",{className:o?"fas fa-times":"fas fa-chevron-down"})})]}),Object(a.jsx)("div",{className:o?"accordion-content active":"accordion-content",children:c})]})};var T=function(e){var t=Object(h.b)(),c=Object(h.c)((function(e){return e.goals}));return Object(n.useEffect)((function(){t(k())}),[c.length,t]),Object(a.jsxs)("section",{className:"goal-list",children:[Object(a.jsx)(w,{title:"Daily goals",children:c.length>0?c.reduce((function(e,c){return"daily"===c.frequency&&e.push(Object(a.jsx)(C,{goal:c,deleteGoal:function(){t(_(c._id))}},c._id)),e}),[]):"Sorry, no goals available"}),Object(a.jsx)(w,{title:"Monthly goals",children:c.length>0?c.reduce((function(e,c){return"monthly"===c.frequency&&e.push(Object(a.jsx)(C,{goal:c,deleteGoal:function(){t(_(c._id))}},c._id)),e}),[]):"Sorry, no goals available"}),Object(a.jsx)(w,{title:"Annual goals",children:c.length>0?c.reduce((function(e,c){return"annual"===c.frequency&&e.push(Object(a.jsx)(C,{goal:c,deleteGoal:function(){t(_(c._id))}},c._id)),e}),[]):"Sorry, no goals available"})]})};var q=function(e){return Object(a.jsx)("section",{id:"main-area",children:Object(a.jsx)(T,{})})},G=c(8),L=Object(G.combineReducers)({goals:function(){var e=arguments.length>1?arguments[1]:void 0,t=e.type,c=e.payload;switch(t){case g:case p:case x:case v:return c;default:return y}}}),D=c(32);var M=function(e){var t=e.active,c=e.setActive;return Object(a.jsx)("button",{type:"button",className:"btn add-button",onClick:function(){return c(!t)},children:Object(a.jsx)("i",{className:"fas fa-plus"})})},V=c(30),E=c(31),F=Object(G.createStore)(L,Object(E.composeWithDevTools)(Object(G.applyMiddleware)(V.a)));var B=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(a.jsx)(h.a,{store:F,children:Object(a.jsx)(D.a,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(l,{}),Object(a.jsx)(q,{}),Object(a.jsx)(A,{active:c,setActive:s,title:"Add goal",children:Object(a.jsx)(S,{setActive:s})}),Object(a.jsx)(M,{active:c,setActive:s})]})})})};i.a.render(Object(a.jsx)(B,{}),document.getElementById("root"))}},[[64,1,2]]]);
//# sourceMappingURL=main.e7221c6c.chunk.js.map
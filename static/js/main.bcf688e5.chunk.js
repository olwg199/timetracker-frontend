(this["webpackJsonptimetracker-frontend"]=this["webpackJsonptimetracker-frontend"]||[]).push([[0],{38:function(e,t,a){},61:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),s=a(13),i=a.n(s),r=a(8),o=a.p+"static/media/logo.7ea08619.svg";var l=function(){return Object(c.jsx)("header",{id:"header",children:Object(c.jsx)("div",{className:"logo",children:Object(c.jsx)("img",{src:o,alt:"Logo"})})})};a(38);var u={getTimeBySeconds:function(e){var t=Math.floor(e/3600),a=Math.floor(e%3600/60),c=Math.floor(e%3600%60);return(t<10?"0"+t:t)+":"+(a<10?"0"+a:a)+":"+(c<10?"0"+c:c)},getSecondsFromMinutes:function(e){return 60*e}},j=a(4);var d=function(e){var t=Object(n.useRef)({}),a=Object(n.useState)({time:0,isStarted:!1}),s=Object(r.a)(a,2),i=s[0],o=s[1];return Object(c.jsxs)("div",{className:"stopwatch",children:[Object(c.jsx)("i",{className:"far fa-stopwatch"}),u.getTimeBySeconds(i.time),i.isStarted?Object(c.jsx)("div",{className:"stopwatch_control",onClick:function(){o(Object(j.a)(Object(j.a)({},i),{},{isStarted:!1})),clearInterval(t.current)},children:Object(c.jsx)("i",{className:"fas fa-pause"})}):Object(c.jsx)("div",{className:"stopwatch_control",onClick:function(){o(Object(j.a)(Object(j.a)({},i),{},{isStarted:!0})),t.current=setInterval((function(){o({isStarted:!0,time:i.time+=1})}),1e3)},children:Object(c.jsx)("i",{className:"fas fa-play"})})]})};var b=function(e){var t,a=e.value,n=e.setValue,s=e.type,i=e.name,r=e.rows,o=e.options;switch(s?s.toLowerCase():"input"){case"textarea":t=Object(c.jsx)("textarea",{placeholder:i,onChange:n||"",value:a,className:"input",rows:r||""});break;case"select":t=Object(c.jsx)("select",{onChange:n,className:"input",defaultValue:a,children:o.map((function(e){return Object(c.jsx)("option",{value:e,children:e},e)}))});break;default:t=Object(c.jsx)("input",{type:s,placeholder:i,onChange:n||"",value:a,className:"input"})}return Object(c.jsxs)("div",{className:"input-group",children:[Object(c.jsx)("label",{htmlFor:a,children:i}),t]})};var O=function(e){var t=e.text,a=e.href,n=e.onClick,s=e.classList;return Object(c.jsx)("a",{className:void 0!==s?s.join(" "):"",href:a,onClick:n,children:t})},f=a(9),m=a(12),v=a.n(m),h="SET_GOALS",p="DELETE_GOAL",x="ADD_GOAL",g="UPDATE_GOAL",N=[];var y="https://timetracker-api-node.herokuapp.com/tasks",k=function(){return function(e){v.a.get(y).then((function(t){var a;e((a=t.data.tasks,{type:h,payload:a}))}))}};var S=function(e){var t=e.currentGoal,a=e.setActive,s=e.type,i=Object(f.b)(),o=["daily","monthly","annual"],l=t||{title:"",time:0,frequency:o[0],description:"",isActive:!0},u=Object(n.useState)(l),d=Object(r.a)(u,2),m=d[0],h=d[1];return Object(c.jsxs)("div",{className:"add-goal",children:[Object(c.jsx)(b,{name:"Title",value:m.title,setValue:function(e){h(Object(j.a)(Object(j.a)({},m),{},{title:e.target.value}))}}),Object(c.jsx)(b,{name:"Time",value:m.time,setValue:function(e){h(Object(j.a)(Object(j.a)({},m),{},{time:e.target.value}))},type:"number"}),Object(c.jsx)(b,{name:"Frequency",value:m.frequency,setValue:function(e){h(Object(j.a)(Object(j.a)({},m),{},{frequency:e.target.value}))},type:"select",options:o}),Object(c.jsx)(b,{name:"Description",value:m.description,setValue:function(e){h(Object(j.a)(Object(j.a)({},m),{},{description:e.target.value}))},type:"textarea",rows:"5"}),Object(c.jsx)(O,{text:"update"===s?"Update goal":"Add goal",href:"#",onClick:function(e){switch(e.preventDefault(),s){case"update":i(function(e){return function(t){v.a.patch("".concat(y,"/").concat(e._id),e).then((function(e){t(k())})).catch((function(e){return console.log("add:",e)}))}}(m));break;default:i(function(e){return function(t){v.a.post("".concat(y),e).then((function(e){t(k())})).catch((function(e){return console.log("add:",e)}))}}(m)),console.log(l),h(l)}a(!1)},classList:["btn add-goal-button"]})]})};a(61);var A=function(e){var t=e.active,a=e.setActive,n=e.title,s=e.children;return Object(c.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return a(!t)},children:Object(c.jsxs)("div",{className:"modal_content",onClick:function(e){return e.stopPropagation()},children:[Object(c.jsxs)("div",{className:"modal-header",children:[Object(c.jsx)("div",{className:"modal-header_title",children:n}),Object(c.jsx)("div",{className:"modal-header_close-btn",id:"modal-header_close-btn",onClick:function(){return a(!t)},children:Object(c.jsx)("i",{className:"far fa-times-circle"})})]}),s]})})};var _=function(e){var t=e.goal,a=e.deleteGoal,s=e.updateSpentTime,i=Object(n.useState)(!1),o=Object(r.a)(i,2),l=o[0],j=o[1];return Object(c.jsxs)("div",{className:"goal-item",children:[Object(c.jsx)("div",{className:"goal-item_title",children:t.title}),Object(c.jsxs)("div",{className:"goal-item_time",children:[Object(c.jsx)("i",{className:"far fa-clock"}),u.getTimeBySeconds(u.getSecondsFromMinutes(t.time))]}),Object(c.jsx)(d,{saveTime:s}),Object(c.jsx)("div",{className:"goal-item_edit",onClick:function(){j(!0)},children:Object(c.jsx)("i",{className:"fas fa-pen-square"})}),Object(c.jsx)("div",{className:"goal-item_delete",onClick:a,children:Object(c.jsx)("i",{className:"fas fa-trash-alt"})}),Object(c.jsx)(A,{active:l,setActive:j,title:"Update goal",children:Object(c.jsx)(S,{currentGoal:t,setActive:j,type:"update"})})]})};var C=function(e){var t=Object(f.b)(),a=Object(f.c)((function(e){return e.goals}));return Object(n.useEffect)((function(){t(k())}),[a.length,t]),Object(c.jsx)("section",{className:"goal-list",children:a.length?a.map((function(e){return Object(c.jsx)(_,{goal:e,deleteGoal:function(){var a;t((a=e._id,function(e){v.a.delete("".concat(y,"/").concat(a)).then((function(t){e(k())})).catch((function(e){return console.log("delete:",e)}))}))}},e._id)})):"Sorry, no goals available"})};var w=function(e){return Object(c.jsx)("section",{id:"main-area",children:Object(c.jsx)(C,{})})},T=a(7),L=Object(T.combineReducers)({goals:function(){var e=arguments.length>1?arguments[1]:void 0,t=e.type,a=e.payload;switch(t){case g:case x:case p:case h:return a;default:return N}}}),G=a(32);var D=function(e){var t=e.active,a=e.setActive;return Object(c.jsx)("button",{type:"button",className:"btn add-button",onClick:function(){return a(!t)},children:Object(c.jsx)("i",{className:"fas fa-plus"})})},E=a(30),M=a(31),V=Object(T.createStore)(L,Object(M.composeWithDevTools)(Object(T.applyMiddleware)(E.a)));var q=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),a=t[0],s=t[1];return Object(c.jsx)(f.a,{store:V,children:Object(c.jsx)(G.a,{children:Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(l,{}),Object(c.jsx)(w,{}),Object(c.jsx)(A,{active:a,setActive:s,title:"Add goal",children:Object(c.jsx)(S,{setActive:s})}),Object(c.jsx)(D,{active:a,setActive:s})]})})})};i.a.render(Object(c.jsx)(q,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.bcf688e5.chunk.js.map
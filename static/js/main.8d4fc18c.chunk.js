(this["webpackJsonptimetracker-frontend"]=this["webpackJsonptimetracker-frontend"]||[]).push([[0],{38:function(e,t,c){},61:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(0),s=c(13),i=c.n(s),r=c(8);var o=function(){return Object(a.jsx)("header",{id:"header",children:Object(a.jsx)("div",{className:"logo",children:Object(a.jsx)("img",{src:"./logo.svg",alt:"Logo"})})})};c(38);var l={getTimeBySeconds:function(e){var t=Math.floor(e/3600),c=Math.floor(e%3600/60),a=Math.floor(e%3600%60);return(t<10?"0"+t:t)+":"+(c<10?"0"+c:c)+":"+(a<10?"0"+a:a)},getSecondsFromMinutes:function(e){return 60*e}},u=c(4);var j=function(e){var t=Object(n.useRef)({}),c=Object(n.useState)({time:0,isStarted:!1}),s=Object(r.a)(c,2),i=s[0],o=s[1];return Object(a.jsxs)("div",{className:"stopwatch",children:[Object(a.jsx)("i",{className:"far fa-stopwatch"}),l.getTimeBySeconds(i.time),i.isStarted?Object(a.jsx)("div",{className:"stopwatch_control",onClick:function(){o(Object(u.a)(Object(u.a)({},i),{},{isStarted:!1})),clearInterval(t.current)},children:Object(a.jsx)("i",{className:"fas fa-pause"})}):Object(a.jsx)("div",{className:"stopwatch_control",onClick:function(){o(Object(u.a)(Object(u.a)({},i),{},{isStarted:!0})),t.current=setInterval((function(){o({isStarted:!0,time:i.time+=1})}),1e3)},children:Object(a.jsx)("i",{className:"fas fa-play"})})]})};var d=function(e){var t,c=e.value,n=e.setValue,s=e.type,i=e.name,r=e.rows,o=e.options;switch(s?s.toLowerCase():"input"){case"textarea":t=Object(a.jsx)("textarea",{placeholder:i,onChange:n||"",value:c,className:"input",rows:r||""});break;case"select":t=Object(a.jsx)("select",{onChange:n,className:"input",defaultValue:c,children:o.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))});break;default:t=Object(a.jsx)("input",{type:s,placeholder:i,onChange:n||"",value:c,className:"input"})}return Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("label",{htmlFor:c,children:i}),t]})};var b=function(e){var t=e.text,c=e.href,n=e.onClick,s=e.classList;return Object(a.jsx)("a",{className:void 0!==s?s.join(" "):"",href:c,onClick:n,children:t})},f=c(9),O=c(12),m=c.n(O),v="SET_TASKS",h="DELETE_TASK",p="ADD_TASK",x="UPDATE_TASK",k=[];var N="https://timetracker-api-node.herokuapp.com/tasks",g=function(){return function(e){m.a.get(N).then((function(t){var c;e((c=t.data.tasks,{type:v,payload:c}))}))}};var y=function(e){var t=e.currentTask,c=e.setActive,s=e.type,i=Object(f.b)(),o=["daily","monthly","annual"],l=t||{title:"",time:0,frequency:o[0],description:"",isActive:!0},j=Object(n.useState)(l),O=Object(r.a)(j,2),v=O[0],h=O[1];return Object(a.jsxs)("div",{className:"add-task",children:[Object(a.jsx)(d,{name:"Title",value:v.title,setValue:function(e){h(Object(u.a)(Object(u.a)({},v),{},{title:e.target.value}))}}),Object(a.jsx)(d,{name:"Time",value:v.time,setValue:function(e){h(Object(u.a)(Object(u.a)({},v),{},{time:e.target.value}))},type:"number"}),Object(a.jsx)(d,{name:"Frequency",value:v.frequency,setValue:function(e){h(Object(u.a)(Object(u.a)({},v),{},{frequency:e.target.value}))},type:"select",options:o}),Object(a.jsx)(d,{name:"Description",value:v.description,setValue:function(e){h(Object(u.a)(Object(u.a)({},v),{},{description:e.target.value}))},type:"textarea",rows:"5"}),Object(a.jsx)(b,{text:"update"===s?"Update task":"Add task",href:"#",onClick:function(e){switch(e.preventDefault(),s){case"update":i(function(e){return function(t){m.a.patch("".concat(N,"/").concat(e._id),e).then((function(e){t(g())})).catch((function(e){return console.log("add:",e)}))}}(v));break;default:i(function(e){return function(t){m.a.post("".concat(N),e).then((function(e){t(g())})).catch((function(e){return console.log("add:",e)}))}}(v)),console.log(l),h(l)}c(!1)},classList:["btn add-task-button"]})]})};c(61);var S=function(e){var t=e.active,c=e.setActive,n=e.title,s=e.children;return Object(a.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return c(!t)},children:Object(a.jsxs)("div",{className:"modal_content",onClick:function(e){return e.stopPropagation()},children:[Object(a.jsxs)("div",{className:"modal-header",children:[Object(a.jsx)("div",{className:"modal-header_title",children:n}),Object(a.jsx)("div",{className:"modal-header_close-btn",id:"modal-header_close-btn",onClick:function(){return c(!t)},children:Object(a.jsx)("i",{className:"far fa-times-circle"})})]}),s]})})};var T=function(e){var t=e.task,c=e.deleteTask,s=e.updateSpentTime,i=Object(n.useState)(!1),o=Object(r.a)(i,2),u=o[0],d=o[1];return Object(a.jsxs)("div",{className:"task-item",children:[Object(a.jsx)("div",{className:"task-item_title",children:t.title}),Object(a.jsxs)("div",{className:"task-item_time",children:[Object(a.jsx)("i",{className:"far fa-clock"}),l.getTimeBySeconds(l.getSecondsFromMinutes(t.time))]}),Object(a.jsx)(j,{saveTime:s}),Object(a.jsx)("div",{className:"task-item_edit",onClick:function(){d(!0)},children:Object(a.jsx)("i",{className:"fas fa-pen-square"})}),Object(a.jsx)("div",{className:"task-item_delete",onClick:c,children:Object(a.jsx)("i",{className:"fas fa-trash-alt"})}),Object(a.jsx)(S,{active:u,setActive:d,title:"Update Task",children:Object(a.jsx)(y,{currentTask:t,setActive:d,type:"update"})})]})};var A=function(e){var t=Object(f.b)(),c=Object(f.c)((function(e){return e.tasks}));return Object(n.useEffect)((function(){t(g())}),[c.length,t]),Object(a.jsx)("section",{className:"task-list",children:c?c.map((function(e){return Object(a.jsx)(T,{task:e,deleteTask:function(){var c;t((c=e._id,function(e){m.a.delete("".concat(N,"/").concat(c)).then((function(t){e(g())})).catch((function(e){return console.log("delete:",e)}))}))}},e._id)})):"Sorry, no tasks available"})};var _=function(e){return Object(a.jsx)("section",{id:"main-area",children:Object(a.jsx)(A,{})})},C=c(7),w=Object(C.combineReducers)({tasks:function(){var e=arguments.length>1?arguments[1]:void 0,t=e.type,c=e.payload;switch(t){case x:case p:case h:case v:return c;default:return k}}}),D=c(32);var E=function(e){var t=e.active,c=e.setActive;return Object(a.jsx)("button",{type:"button",className:"btn add-button",onClick:function(){return c(!t)},children:Object(a.jsx)("i",{className:"fas fa-plus"})})},M=c(30),V=c(31),q=Object(C.createStore)(w,Object(V.composeWithDevTools)(Object(C.applyMiddleware)(M.a)));var L=function(){var e=Object(n.useState)(!1),t=Object(r.a)(e,2),c=t[0],s=t[1];return Object(a.jsx)(f.a,{store:q,children:Object(a.jsx)(D.a,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(o,{}),Object(a.jsx)(_,{}),Object(a.jsx)(S,{active:c,setActive:s,title:"Add Task",children:Object(a.jsx)(y,{setActive:s})}),Object(a.jsx)(E,{active:c,setActive:s})]})})})};i.a.render(Object(a.jsx)(L,{}),document.getElementById("root"))}},[[63,1,2]]]);
//# sourceMappingURL=main.8d4fc18c.chunk.js.map